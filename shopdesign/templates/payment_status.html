<div class="payment-status-container">
    <h1 class="text-2xl font-semibold text-center">üìã ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h1>

    {% if orders %}
        {% for order in orders %}
        <div class="order-box">
            <h2>üìÑ ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h2>
            <p><strong>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠:</strong> {{ order.created_at }}</p>        

            <table class="order-table">
                <tr>
                    <th>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                    <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
                    <th>‡∏£‡∏≤‡∏Ñ‡∏≤</th>
                </tr>
                {% for item in order.items.all %}
                <tr>
                    <td>{{ item.product.name }}</td>
                    <td>{{ item.quantity }}</td>
                    <td>{{ item.product.price }} ‡∏ö‡∏≤‡∏ó</td>
                </tr>
                {% endfor %}
            </table>

            <h3 class="total-price">üí∞ ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°: <strong>{{ order.total_price }} ‡∏ö‡∏≤‡∏ó</strong></h3>

            <h2 class="text-xl font-semibold">üí≥ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h2>
            {% if order.status == "waiting_payment" %}
                <p class="status pending">‚è≥ ‡∏£‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</p>
            {% elif order.status == "approved" %}
                <p class="status success">‚úÖ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß</p>
            {% elif order.status == "rejected" %}
                <p class="status failed">‚ùå ‡∏ñ‡∏π‡∏Å‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò</p>
            {% elif order.status == "completed" %}
                <p class="status success">üéâ ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</p>
            {% endif %}

            {% if order.payment_slip %}
                <h2 class="text-xl font-semibold">üìú ‡∏™‡∏•‡∏¥‡∏õ‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô</h2>
                <a href="{{ order.payment_slip.url }}" target="_blank">
                    <img src="{{ order.payment_slip.url }}" alt="‡∏™‡∏•‡∏¥‡∏õ" width="150">
                </a>
            {% else %}
                <p>‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏•‡∏¥‡∏õ</p>
            {% endif %}
        </div>
        {% endfor %}
    {% else %}
        <p>‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</p>
    {% endif %}

    <div class="shop-more-container">
        <a href="{% url 'home' %}" class="btn-shop-more">üõç ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡πà‡∏≠</a>
    </div>
</div>

<style>
    .payment-status-container {
        max-width: 800px;
        margin: auto;
        padding: 20px;
        background-color: #f9f9f9;
        border-radius: 10px;
        box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
    }
    .order-box {
        background: white;
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 20px;
        box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
    }
    .order-table {
        width: 100%;
        border-collapse: collapse;
    }
    .order-table th, .order-table td {
        border: 1px solid #ddd;
        padding: 8px;
    }
    .status {
        font-size: 18px;
        font-weight: bold;
    }
    .pending { color: orange; }
    .success { color: green; }
    .failed { color: red; }
    .btn-shop-more {
        display: block;
        text-align: center;
        padding: 10px 15px;
        background-color: #007bff;
        color: white;
        text-decoration: none;
        border-radius: 5px;
        margin-top: 20px;
    }
    .btn-shop-more:hover {
        background-color: #0056b3;
    }
</style>
